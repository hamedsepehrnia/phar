{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block title %}{{ site_settings.site_name|default:"داروخانه دکتر واعظی" }} - فروشگاه آنلاین دارو و لوازم بهداشتی{% endblock %}

{% block content %}
<main class="flex-1 bg-gradient-to-b from-white via-white to-slate-50 pb-20">
  <!-- Hero / Slider -->
  <section class="pt-6 lg:pt-10">
    <div class="container mx-auto px-4 max-w-6xl">
      {% if sliders %}
      <div class="relative overflow-hidden rounded-3xl bg-gradient-to-br from-primary-50 via-white to-rose-50 shadow-2xl ring-1 ring-primary-100/70">
        <div class="absolute inset-0 opacity-60" style="background-image: radial-gradient(circle at 12% 20%, rgba(186,126,253,0.25), transparent 35%), radial-gradient(circle at 82% 12%, rgba(244,114,182,0.22), transparent 28%), radial-gradient(circle at 50% 75%, rgba(125,211,252,0.18), transparent 30%);"></div>
        <div class="relative grid items-center gap-8 p-6 md:p-10 lg:p-12 lg:grid-cols-5">
          <div class="space-y-4 lg:col-span-2">
            <div class="inline-flex items-center gap-2 rounded-full bg-primary-100/80 px-3 py-1 text-[11px] font-semibold text-primary-800 shadow-sm ring-1 ring-primary-200">تجربه خرید مطمئن و سریع</div>
            <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold leading-tight text-gray-900">
              با {{ site_settings.site_name|default:"داروخانه دکتر واعظی" }}
              <span class="text-primary-800">هر روز سلامت‌تر</span>
            </h1>
            <p class="text-xs text-gray-500">مدیریت: امین پرنگ</p>
            <p class="text-sm md:text-base text-gray-700 max-w-xl">سفارش آنلاین دارو و محصولات بهداشتی با ارسال سریع، پشتیبانی کامل و تضمین اصالت کالا.</p>
            <div class="flex flex-col sm:flex-row w-full items-stretch sm:items-center gap-3 pt-2">
              <a href="{% url 'catalog:shop' %}" class="inline-flex items-center justify-center gap-2 rounded-xl bg-primary-700 px-5 py-2.5 text-sm font-semibold text-white shadow-lg shadow-primary-200 transition hover:-translate-y-0.5 hover:bg-primary-800 w-full sm:w-auto">
                شروع خرید
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="M13 18l6-6"/><path d="M13 6l6 6"/></svg>
              </a>
              <a href="#new-products" class="inline-flex items-center gap-2 rounded-xl bg-white/70 px-4 py-2 text-sm font-semibold text-primary-800 shadow-sm ring-1 ring-primary-100 backdrop-blur transition hover:bg-white w-full sm:w-auto justify-center">
                جدیدترین‌ها
                <span class="h-6 w-6 rounded-full bg-primary-100 text-center text-[11px] font-bold leading-6 text-primary-800">جدید</span>
              </a>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 pt-2 text-xs text-gray-700 sm:text-sm">
              <div class="flex items-center gap-2 rounded-xl bg-white/70 px-3 py-2 shadow-sm ring-1 ring-primary-100 backdrop-blur">
                <span class="flex h-7 w-7 items-center justify-center rounded-full bg-primary-100 text-primary-800">✓</span>
                ارسال اکسپرس و بسته‌بندی ایمن
              </div>
              <div class="flex items-center gap-2 rounded-xl bg-white/70 px-3 py-2 shadow-sm ring-1 ring-primary-100 backdrop-blur">
                <span class="flex h-7 w-7 items-center justify-center rounded-full bg-emerald-100 text-emerald-700">★</span>
                مشاوره رایگان دارویی و بهداشتی
              </div>
            </div>
          </div>

          <div class="lg:col-span-3">
            <div class="relative rounded-2xl bg-white/70 p-3 sm:p-4 shadow-xl ring-1 ring-primary-100 backdrop-blur">
              <div class="absolute -left-10 -top-10 h-28 w-28 rounded-full bg-primary-200/30 blur-3xl"></div>
              <div class="absolute -right-14 bottom-6 h-32 w-32 rounded-full bg-rose-200/30 blur-3xl"></div>
              <div class="custom-slider" id="heroSlider">
                <div class="slider-container">
                  {% for slider in sliders %}
                  <div class="slide {% if forloop.first %}active{% endif %}">
                    <a href="{{ slider.link|default:'#' }}" class="block">
                      {% if slider.image %}
                      <img src="{{ slider.image.url }}" alt="{{ slider.title }}" class="w-full h-64 md:h-80 lg:h-[21rem] object-cover rounded-xl" />
                      {% else %}
                      <div class="flex h-64 w-full items-center justify-center rounded-xl bg-gradient-to-r from-primary-100 via-white to-rose-100 text-primary-800 ring-1 ring-primary-200">
                        <div class="text-center">
                          <span class="text-base font-semibold">تصویر در دسترس نیست</span>
                          <div class="text-xs opacity-80">{{ slider.title|default:'اسلاید' }}</div>
                        </div>
                      </div>
                      {% endif %}
                    </a>
                  </div>
                  {% endfor %}
                </div>

                <button class="slider-btn prev-btn" onclick="changeSlide(-1)">
                  <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                  </svg>
                </button>
                <button class="slider-btn next-btn" onclick="changeSlide(1)">
                  <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                  </svg>
                </button>

                <div class="slider-dots">
                  {% for slider in sliders %}
                  <button class="dot {% if forloop.first %}active{% endif %}" onclick="currentSlide({{ forloop.counter }})"></button>
                  {% endfor %}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <style>
        .custom-slider {
          position: relative;
          width: 100%;
          height: 260px;
        }

        @media (min-width: 768px) {
          .custom-slider {
            height: 320px;
          }
        }

        @media (min-width: 1024px) {
          .custom-slider {
            height: 360px;
          }
        }

        .slider-container {
          position: relative;
          width: 100%;
          height: 100%;
          overflow: hidden;
          border-radius: 16px;
        }

        .slide {
          position: absolute;
          inset: 0;
          opacity: 0;
          transition: opacity 0.8s ease-in-out, transform 0.8s ease-in-out;
          transform: translateX(100%);
        }

        .slide.active {
          opacity: 1;
          transform: translateX(0);
        }

        .slide.prev {
          transform: translateX(-100%);
        }

        .slider-btn {
          position: absolute;
          top: 50%;
          transform: translateY(-50%);
          background: rgba(169, 84, 252, 0.14);
          border: 1px solid rgba(169, 84, 252, 0.35);
          border-radius: 999px;
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          z-index: 10;
          color: #6b21a8;
          transition: all 0.25s ease;
          backdrop-filter: blur(6px);
        }

        .slider-btn:hover {
          background: rgba(169, 84, 252, 0.22);
          transform: translateY(-50%) scale(1.05);
          box-shadow: 0 10px 30px rgba(169, 84, 252, 0.18);
        }

        .slider-btn svg {
          width: 18px;
          height: 18px;
        }

        .prev-btn {
          right: 14px;
        }

        .next-btn {
          left: 14px;
        }

        .slider-dots {
          position: absolute;
          bottom: 18px;
          left: 50%;
          transform: translateX(-50%);
          display: flex;
          gap: 8px;
          z-index: 10;
          padding: 6px 10px;
          background: rgba(255, 255, 255, 0.82);
          border-radius: 999px;
          border: 1px solid rgba(169, 84, 252, 0.15);
          backdrop-filter: blur(6px);
        }

        .dot {
          width: 10px;
          height: 10px;
          border-radius: 999px;
          border: none;
          background: #e0f2fe;
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .dot.active,
        .dot:hover {
          background: #0ea5e9;
          width: 24px;
        }

        @media (max-width: 768px) {
          .slider-btn {
            display: none;
          }

          .slider-dots {
            bottom: 12px;
          }
        }
      </style>

      <script>
        let currentSlideIndex = 0;
        const slides = document.querySelectorAll('#heroSlider .slide');
        const dots = document.querySelectorAll('#heroSlider .dot');
        let slideInterval;

        function showSlide(index) {
          slides.forEach((slide, i) => {
            slide.classList.remove('active', 'prev');
            if (i === index) {
              slide.classList.add('active');
            } else if (i === index - 1 || (index === 0 && i === slides.length - 1)) {
              slide.classList.add('prev');
            }
          });

          dots.forEach((dot, i) => {
            dot.classList.toggle('active', i === index);
          });

          currentSlideIndex = index;
        }

        function changeSlide(direction) {
          const newIndex = direction === 1 ? (currentSlideIndex + 1) % slides.length : currentSlideIndex === 0 ? slides.length - 1 : currentSlideIndex - 1;
          showSlide(newIndex);
          resetAutoplay();
        }

        function currentSlide(index) {
          showSlide(index - 1);
          resetAutoplay();
        }

        function autoSlide() {
          changeSlide(1);
        }

        function startAutoplay() {
          slideInterval = setInterval(autoSlide, 6000);
        }

        function resetAutoplay() {
          clearInterval(slideInterval);
          startAutoplay();
        }

        if (slides.length > 0) {
          showSlide(0);
          startAutoplay();

          const slider = document.getElementById('heroSlider');
          slider.addEventListener('mouseenter', () => clearInterval(slideInterval));
          slider.addEventListener('mouseleave', startAutoplay);
        }
      </script>

      {% else %}
      <div class="relative overflow-hidden rounded-3xl bg-gradient-to-br from-primary-50 via-white to-rose-50 text-gray-900 shadow-2xl ring-1 ring-primary-100/80">
        <div class="absolute inset-0 opacity-70" style="background-image: radial-gradient(circle at 18% 22%, rgba(186,126,253,0.25), transparent 30%), radial-gradient(circle at 82% 10%, rgba(236,72,153,0.2), transparent 26%), radial-gradient(circle at 60% 70%, rgba(16,185,129,0.12), transparent 24%);"></div>
        <div class="relative grid items-center gap-8 px-6 py-12 md:px-12 lg:px-16 lg:grid-cols-2">
          <div class="space-y-4">
            <div class="inline-flex items-center gap-2 rounded-full bg-primary-100/90 px-3 py-1 text-[10px] font-semibold text-primary-900 shadow-sm ring-1 ring-primary-200">به‌روزترین محصولات دارویی و بهداشتی</div>
            <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold leading-tight text-gray-900">به {{ site_settings.site_name|default:"داروخانه دکتر واعظی" }} خوش آمدید</h1>
            <p class="text-xs text-gray-500">مدیریت: امین پرنگ</p>
            <p class="text-sm md:text-base text-gray-700 max-w-xl">منتخب برندهای معتبر دارویی و بهداشتی با تضمین اصالت، ارسال سریع و مشاوره تخصصی آنلاین.</p>
            <div class="flex flex-col sm:flex-row w-full items-stretch sm:items-center gap-3 pt-1">
              <a href="{% url 'catalog:shop' %}" class="inline-flex items-center justify-center gap-2 rounded-xl bg-primary-800 px-5 py-2.5 text-sm font-semibold text-white shadow-lg shadow-primary-200 transition hover:-translate-y-0.5 hover:bg-primary-900 w-full sm:w-auto">مشاهده محصولات</a>
              <a href="#new-products" class="inline-flex items-center justify-center gap-2 rounded-xl bg-white/80 px-4 py-2 text-sm font-semibold text-primary-800 shadow-sm ring-1 ring-primary-100 backdrop-blur transition hover:bg-white w-full sm:w-auto">جدیدترین‌ها</a>
            </div>
          </div>
          <div class="hidden lg:flex justify-end">
            <div class="relative w-full max-w-md">
              <div class="absolute -inset-6 rounded-full bg-primary-200/40 blur-3xl"></div>
              <img src="{% static 'images/placeholder.jpg' %}" alt="" class="relative w-full h-80 object-cover rounded-2xl shadow-2xl ring-1 ring-primary-200/60" />
            </div>
          </div>
        </div>
      </div>
      {% endif %}
    </div>
  </section>

  <!-- Quick stats & trust badges -->
  <section class="pb-6" style="margin-top: 3rem;">
    <div class="container mx-auto px-4">
      <div class="rounded-3xl bg-gradient-to-r from-primary-50 via-white to-emerald-50 p-1 ring-1 ring-primary-100/60 shadow-sm">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 rounded-[22px] bg-white/70 p-3 backdrop-blur md:grid-cols-4">
          <div class="flex items-center gap-3 rounded-2xl bg-white px-4 py-3 shadow-sm ring-1 ring-primary-50">
            <div class="flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 text-primary-800">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"/><path d="M9 12l2 2l4 -4"/></svg>
            </div>
            <div>
              <p class="text-xs text-gray-500">تضمین اصالت</p>
              <p class="text-sm font-semibold text-gray-900">محصولات اورجینال</p>
            </div>
          </div>
          <div class="flex items-center gap-3 rounded-2xl bg-white px-4 py-3 shadow-sm ring-1 ring-emerald-50">
            <div class="flex h-10 w-10 items-center justify-center rounded-full bg-emerald-100 text-emerald-700">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M7 15v-6"/><path d="M11 9h3a1 1 0 0 1 1 1v1a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v1a1 1 0 0 0 1 1h3"/><path d="M17 9v6"/></svg>
            </div>
            <div>
              <p class="text-xs text-gray-500">پرداخت امن</p>
              <p class="text-sm font-semibold text-gray-900">درگاه بانکی مطمئن</p>
            </div>
          </div>
          <div class="flex items-center gap-3 rounded-2xl bg-white px-4 py-3 shadow-sm ring-1 ring-amber-50">
            <div class="flex h-10 w-10 items-center justify-center rounded-full bg-amber-100 text-amber-700">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"/><path d="M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"/><path d="M5 17h-2v-11a1 1 0 0 1 1 -1h9v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5"/></svg>
            </div>
            <div>
              <p class="text-xs text-gray-500">ارسال سریع</p>
              <p class="text-sm font-semibold text-gray-900">به سراسر کشور</p>
            </div>
          </div>
          <div class="flex items-center gap-3 rounded-2xl bg-white px-4 py-3 shadow-sm ring-1 ring-sky-50">
            <div class="flex h-10 w-10 items-center justify-center rounded-full bg-sky-100 text-sky-700">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 20l1.3 -3.9a9 8 0 1 1 3.4 2.9l-4.7 1"/><path d="M12 12v.01"/><path d="M8 12v.01"/><path d="M16 12v.01"/></svg>
            </div>
            <div>
              <p class="text-xs text-gray-500">پشتیبانی</p>
              <p class="text-sm font-semibold text-gray-900">۷ روز هفته</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Categories carousel/grid -->
  {% if categories %}
  <section class="py-6">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-lg font-bold text-gray-800">دسته‌بندی‌ها</h2>
        <a href="{% url 'catalog:shop' %}" class="text-sm font-semibold text-primary-700 hover:text-primary-800">مشاهده همه</a>
      </div>
      <div class="grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-6 gap-3">
        {% for category in categories %}
        <a href="{% url 'catalog:shop' %}?category={{ category.slug }}" class="group flex flex-col items-center justify-center gap-2 rounded-2xl bg-white p-3 shadow-sm ring-1 ring-gray-100 transition hover:-translate-y-1 hover:shadow-md" style="height: 120px; width: 100%;">
          {% if category.image %}
          <div class="flex items-center justify-center overflow-hidden" style="width: 48px; height: 48px;">
            <img src="{{ category.image.url }}" alt="{{ category.name }}" class="max-w-full max-h-full object-contain" />
          </div>
          {% else %}
          <div class="flex items-center justify-center rounded-full bg-primary-50 text-primary-600" style="width: 48px; height: 48px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h6v6h-6z"/><path d="M14 4h6v6h-6z"/><path d="M4 14h6v6h-6z"/><path d="M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/></svg>
          </div>
          {% endif %}
          <span class="text-xs font-semibold text-gray-800 text-center line-clamp-2">{{ category.name }}</span>
        </a>
        {% endfor %}
      </div>
    </div>
  </section>
  {% endif %}

  <!-- New products -->
  <section id="new-products" class="py-8">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-lg font-bold text-gray-900">جدیدترین محصولات</h2>
        <a href="{% url 'catalog:shop' %}?sort=newest" class="text-sm font-semibold text-primary-700 hover:text-primary-800">همه محصولات</a>
      </div>
      {% if new_products %}
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4">
        {% for product in new_products %}
          {% include 'partials/card_product.html' with product=product %}
        {% endfor %}
      </div>
      {% else %}
      <div class="rounded-2xl border border-dashed border-gray-200 bg-white p-8 text-center">
        <p class="text-sm text-gray-500">فعلاً محصول جدیدی درج نشده است.</p>
        <a href="{% url 'catalog:shop' %}" class="inline-flex mt-3 items-center justify-center bg-primary-600 text-white px-5 py-2 rounded-md text-sm font-semibold hover:bg-primary-700 transition-colors">مشاهده فروشگاه</a>
      </div>
      {% endif %}
    </div>
  </section>

  <!-- Mid banners -->
  <section class="py-6">
    <div class="container mx-auto px-4">
      {% if banners_middle %}
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        {% for banner in banners_middle %}
        <a href="{{ banner.link|default:'#' }}" class="block overflow-hidden rounded-2xl shadow-sm ring-1 ring-gray-100 hover:shadow-md transition">
          <img src="{{ banner.image.url }}" alt="{{ banner.title }}" class="h-44 w-full object-cover" />
        </a>
        {% endfor %}
      </div>
      {% else %}
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div style="border-radius: 16px; background: linear-gradient(135deg, #0ea5e9 0%, #06b6d4 100%); padding: 24px; color: white; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);">
          <h3 style="font-size: 20px; font-weight: bold; margin-bottom: 8px;">محصولات آرایشی منتخب</h3>
          <p style="font-size: 14px; opacity: 0.9; margin-bottom: 16px;">تنوع برندهای روز با تضمین اصالت</p>
          <a href="{% url 'catalog:shop' %}" style="display: inline-flex; align-items: center; justify-content: center; background: white; color: #0ea5e9; padding: 8px 16px; border-radius: 6px; font-size: 14px; font-weight: 600; text-decoration: none; transition: all 0.3s;" onmouseover="this.style.background='#f0f9ff'" onmouseout="this.style.background='white'">مشاهده</a>
        </div>
        <div style="border-radius: 16px; background: linear-gradient(135deg, #06b6d4 0%, #0ea5e9 100%); padding: 24px; color: white; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);">
          <h3 style="font-size: 20px; font-weight: bold; margin-bottom: 8px;">مراقبت و بهداشت</h3>
          <p style="font-size: 14px; opacity: 0.9; margin-bottom: 16px;">محصولات تخصصی پوست و مو</p>
          <a href="{% url 'catalog:shop' %}" style="display: inline-flex; align-items: center; justify-content: center; background: white; color: #06b6d4; padding: 8px 16px; border-radius: 6px; font-size: 14px; font-weight: 600; text-decoration: none; transition: all 0.3s;" onmouseover="this.style.background='#ecfeff'" onmouseout="this.style.background='white'">خرید</a>
        </div>
      </div>
      {% endif %}
    </div>
  </section>

  <!-- Popular products -->
  <section class="py-8 bg-white">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-lg font-bold text-gray-900">پرفروش‌ترین‌ها</h2>
        <a href="{% url 'catalog:shop' %}?sort=popular" class="text-sm font-semibold text-primary-700 hover:text-primary-800">مشاهده همه</a>
      </div>
      {% if popular_products %}
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
        {% for product in popular_products %}
          {% include 'partials/card_product.html' with product=product %}
        {% endfor %}
      </div>
      {% else %}
      <div class="rounded-2xl border border-dashed border-gray-200 bg-slate-50 p-8 text-center">
        <p class="text-sm text-gray-500">پرفروش‌ها هنوز ثبت نشده‌اند.</p>
        <a href="{% url 'catalog:shop' %}" class="inline-flex mt-3 items-center justify-center bg-primary-600 text-white px-5 py-2 rounded-md text-sm font-semibold hover:bg-primary-700 transition-colors">رفتن به فروشگاه</a>
      </div>
      {% endif %}
    </div>
  </section>

  <!-- Sale products -->
  {% comment %}
  <section class="py-8 bg-slate-50">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between mb-4">
        <div class="flex items-center gap-2">
          <h2 class="text-lg font-bold text-gray-900">تخفیف‌های ویژه</h2>
          <span class="rounded-full bg-red-50 px-2 py-0.5 text-xs font-semibold text-red-600">حراج</span>
        </div>
        <a href="{% url 'catalog:shop' %}" class="text-sm font-semibold text-primary-700 hover:text-primary-800">مشاهده همه</a>
      </div>
      {% if sale_products %}
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
        {% for product in sale_products %}
          {% include 'partials/card_product.html' with product=product %}
        {% endfor %}
      </div>
      {% else %}
      <div class="rounded-2xl border border-dashed border-red-100 bg-white p-8 text-center">
        <p class="text-sm text-gray-600">فعلاً محصول تخفیف‌دار نداریم.</p>
        <a href="{% url 'catalog:shop' %}" class="inline-flex mt-3 items-center justify-center bg-primary-600 text-white px-5 py-2 rounded-md text-sm font-semibold hover:bg-primary-700 transition-colors">مشاهده محصولات</a>
      </div>
      {% endif %}
    </div>
  </section>
  {% endcomment %}

  <!-- Brands -->
  <section class="py-8">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-lg font-bold text-gray-900">برندهای محبوب</h2>
      </div>
      {% if brands %}
      <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4">
        {% for brand in brands %}
        <a href="{% url 'catalog:shop' %}?brand={{ brand.slug }}" class="flex items-center justify-center rounded-2xl bg-white p-4 shadow-sm ring-1 ring-gray-100 hover:shadow-md transition h-24">
          {% if brand.logo %}
          <img src="{{ brand.logo.url }}" alt="{{ brand.name }}" class="max-h-14 object-contain" />
          {% else %}
          <span class="text-sm font-semibold text-gray-700">{{ brand.name }}</span>
          {% endif %}
        </a>
        {% endfor %}
      </div>
      {% else %}
      <div class="rounded-2xl border border-dashed border-gray-200 bg-white p-8 text-center">
        <p class="text-sm text-gray-500">به زودی برندها اضافه می‌شوند.</p>
      </div>
      {% endif %}
    </div>
  </section>

  <!-- Service highlights -->
  <section class="pb-10">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <div class="rounded-2xl bg-white p-4 shadow-sm ring-1 ring-gray-100">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full bg-primary-50 flex items-center justify-center text-primary-700">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"/><path d="M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"/><path d="M5 17h-2v-11a1 1 0 0 1 1 -1h9v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5"/></svg>
            </div>
            <div>
              <p class="text-sm font-semibold text-gray-900">ارسال سریع</p>
              <p class="text-xs text-gray-500">تحویل در کوتاه‌ترین زمان</p>
            </div>
          </div>
        </div>
        <div class="rounded-2xl bg-white p-4 shadow-sm ring-1 ring-gray-100">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full bg-emerald-50 flex items-center justify-center text-emerald-700">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"/><path d="M9 12l2 2l4 -4"/></svg>
            </div>
            <div>
              <p class="text-sm font-semibold text-gray-900">ضمانت اصالت</p>
              <p class="text-xs text-gray-500">کالای اصلی و معتبر</p>
            </div>
          </div>
        </div>
        <div class="rounded-2xl bg-white p-4 shadow-sm ring-1 ring-gray-100">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full bg-sky-50 flex items-center justify-center text-sky-700">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M7 15v-6"/><path d="M11 9h3a1 1 0 0 1 1 1v1a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v1a1 1 0 0 0 1 1h3"/><path d="M17 9v6"/></svg>
            </div>
            <div>
              <p class="text-sm font-semibold text-gray-900">پرداخت امن</p>
              <p class="text-xs text-gray-500">درگاه مطمئن بانکی</p>
            </div>
          </div>
        </div>
        <div class="rounded-2xl bg-white p-4 shadow-sm ring-1 ring-gray-100">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full bg-amber-50 flex items-center justify-center text-amber-700">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 20l1.3 -3.9a9 8 0 1 1 3.4 2.9l-4.7 1"/><path d="M12 12v.01"/><path d="M8 12v.01"/><path d="M16 12v.01"/></svg>
            </div>
            <div>
              <p class="text-sm font-semibold text-gray-900">پشتیبانی سریع</p>
              <p class="text-xs text-gray-500">۷ روز هفته</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

{% endblock %}
